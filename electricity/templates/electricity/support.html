{% extends "electricity/base.html" %}
{% load static i18n %}

{% block title %}{% trans "Customer Support | Hembla experten" %}{% endblock %}
{% block body_class %}support-page{% endblock %}

{% block extra_head %}
  <link rel="stylesheet" href="{% static 'electricity/css/support.css' %}">
{% endblock %}

{% block content %}
<section class="support-hero">
  <div class="container">
    <div class="support-hero-content">
      <h1>{% trans "Customer Support" %}</h1>
      <div class="support-badge">{% trans "Clear answers. Responsible support." %}</div>
      <div class="support-actions">
        <a class="btn btn-secondary btn-pill" href="#faqs">{% trans "View FAQs" %}</a>
        <a class="btn btn-primary btn-pill" href="#support-form">{% trans "Submit Ticket" %}</a>
      </div>
    </div>
  </div>
</section>

<section class="support-section">
  <div class="container">
    <h2 class="support-title">{% trans "What We Can Help You With" %}</h2>
    <div class="support-card-grid">
      <article class="support-card">
        <div class="support-icon">ğŸ› </div>
        <h3>{% trans "Ongoing Work" %}</h3>
        <p>{% trans "Real-time updates on your current electrical installation. Monitor progress and scheduled inspections in real-time." %}</p>
      </article>
      <article class="support-card">
        <div class="support-icon">âœ…</div>
        <h3>{% trans "Follow-ups" %}</h3>
        <p>{% trans "Quality checks and premium maintenance support after project completion. We ensure long-term system integrity." %}</p>
      </article>
      <article class="support-card">
        <div class="support-icon">ğŸ“„</div>
        <h3>{% trans "Documentation" %}</h3>
        <p>{% trans "Direct access to your safety certificates, warranties, and technical drawings in our secure client portal." %}</p>
      </article>
    </div>
  </div>
</section>

<section class="support-section light">
  <div class="container">
    <h2 class="support-title">{% trans "Premium Contact Channels" %}</h2>
    <div class="support-channel-grid">
      <div class="support-channel">
        <div class="support-icon">ğŸ“</div>
        <h3>{% trans "Priority Line" %}</h3>
        <p>+46 8 200 888 00</p>
        <span>{% trans "Mon - Fri 08:00 - 17:00" %}</span>
      </div>
      <div class="support-channel">
        <div class="support-icon">âœ‰ï¸</div>
        <h3>{% trans "Concierge Email" %}</h3>
        <p>priority@rwmel.se</p>
        <span>{% trans "24-hour response guarantee" %}</span>
      </div>
      <div class="support-channel">
        <div class="support-icon">ğŸ’¬</div>
        <h3>{% trans "Digital Portal" %}</h3>
        <p>{% trans "Open Support Ticket" %}</p>
        <span>{% trans "Trackable request system" %}</span>
      </div>
    </div>
  </div>
</section>

<section class="support-section" id="support-form">
  <div class="container">
    <h2 class="support-title">{% trans "Direct Support Form" %}</h2>
    <p class="support-subtitle">{% trans "Submit your detailed request and our technical team will review it within 2 business hours." %}</p>

    {% if submitted %}
      <div class="support-success">
        {% trans "Ticket received. Your reference ID is" %} <strong>{{ ticket_id }}</strong>.
      </div>
    {% endif %}

    {% if errors %}
      <div class="support-errors">
        <ul>
          {% for error in errors %}
            <li>{{ error }}</li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}

    <form method="post" class="support-form">
      {% csrf_token %}
      <div class="form-grid">
        <div>
          <label>{% trans "Full Name" %}</label>
          <input class="form-control" name="full_name" value="{{ data.full_name|default:'' }}">
        </div>
        <div>
          <label>{% trans "Email Address" %}</label>
          <input class="form-control" name="email" value="{{ data.email|default:'' }}">
        </div>
        <div>
          <label>{% trans "Phone Number" %}</label>
          <input class="form-control" name="phone" value="{{ data.phone|default:'' }}">
        </div>
        <div>
          <label>{% trans "Type of Request" %}</label>
          <select class="form-control" name="request_type">
            <option value="">{% trans "Select" %}</option>
            <option value="technical" {% if data.request_type == "technical" %}selected{% endif %}>{% trans "Technical Issue" %}</option>
            <option value="billing" {% if data.request_type == "billing" %}selected{% endif %}>{% trans "Billing" %}</option>
            <option value="maintenance" {% if data.request_type == "maintenance" %}selected{% endif %}>{% trans "Maintenance" %}</option>
            <option value="documentation" {% if data.request_type == "documentation" %}selected{% endif %}>{% trans "Documentation" %}</option>
          </select>
        </div>
        <div>
          <label>{% trans "Customer Type" %}</label>
          <select class="form-control" name="customer_type">
            <option value="">{% trans "Select" %}</option>
            <option value="residential" {% if data.customer_type == "residential" %}selected{% endif %}>{% trans "Residential Client" %}</option>
            <option value="business" {% if data.customer_type == "business" %}selected{% endif %}>{% trans "Business Client" %}</option>
            <option value="brf" {% if data.customer_type == "brf" %}selected{% endif %}>{% trans "Housing Association" %}</option>
          </select>
        </div>
        <div class="full">
          <label>{% trans "Project Address" %}</label>
          <input class="form-control" name="project_address" value="{{ data.project_address|default:'' }}">
        </div>
        <div class="full">
          <label>{% trans "Message" %}</label>
          <textarea class="form-control" name="message" rows="5">{{ data.message|default:'' }}</textarea>
        </div>
      </div>
      <div class="form-actions">
        <button class="btn btn-primary btn-pill" type="submit">{% trans "Submit Request" %}</button>
      </div>
    </form>
  </div>
</section>

<section class="support-section light" id="faqs">
  <div class="container">
    <h2 class="support-title">{% trans "What Happens Next" %}</h2>
    <div class="support-steps">
      <div class="support-step">
        <div class="step-circle">01</div>
        <h4>{% trans "Request Logged" %}</h4>
        <p>{% trans "Our system instantly assigns a ticket number and notifies our technical lead." %}</p>
      </div>
      <div class="support-step">
        <div class="step-circle">02</div>
        <h4>{% trans "Expert Review" %}</h4>
        <p>{% trans "A certified electrician reviews your request to prepare the best solution." %}</p>
      </div>
      <div class="support-step">
        <div class="step-circle">03</div>
        <h4>{% trans "Active Support" %}</h4>
        <p>{% trans "You receive a direct response or site visit confirmation within the promised timeframe." %}</p>
      </div>
    </div>
  </div>
</section>
{% endblock %}
