{% extends "electricity/electrician_booking/base.html" %}
{% load i18n %}

{% block booking_content %}
<div class="eb-confirmation">

  <div class="eb-confirmation-mark">OK</div>

  <h1>{% trans "Booking received" %}</h1>
  <p>
    {% trans "Thank you for choosing RWM EL luxury services. Your booking request has been successfully submitted and is now being processed." %}
  </p>

  <div class="eb-confirmation-ref">
    <div>{% trans "Booking Reference" %}</div>
    <strong>#{{ reference }}</strong>

    <div class="eb-confirmation-actions">
      <button class="btn btn-light eb-receipt-print" type="button">
        {% trans "Print Receipt" %}
      </button>
      <button class="btn btn-light eb-receipt-pdf" type="button">
        {% trans "Save as PDF" %}
      </button>
    </div>
  </div>

  <div class="eb-receipt-details">

    <div class="eb-receipt-section">
      <div class="eb-receipt-title">{% trans "Booking Details" %}</div>

      <div class="eb-receipt-row">
        <span>{% trans "Service type" %}</span>
        <strong>{{ data.service_type|default:"Residential Electrical Repair"|title }}</strong>
      </div>

      <div class="eb-receipt-row">
        <span>{% trans "Hours booked" %}</span>
        <strong>{{ data.hours|default:"1" }} {% trans "hour(s)" %}</strong>
      </div>

      <div class="eb-receipt-row">
        <span>{% trans "Property type" %}</span>
        <strong>{{ data.property_type|default:"Residential Property"|title }}</strong>
      </div>

      <div class="eb-receipt-row">
        <span>{% trans "Location" %}</span>
        <strong>{{ data.street_address|default:"1248 Oakwood Ave" }}, {{ data.city|default:"Silver Springs" }}</strong>
      </div>

      <div class="eb-receipt-row">
        <span>{% trans "Appointment" %}</span>
        <strong>
          {% if data.preferred_date %}{{ data.preferred_date }}{% else %}Thursday, Oct 5{% endif %}
          {% if data.arrival_window %} | {{ data.arrival_window }}{% else %} | 8 AM - 12 PM{% endif %}
        </strong>
      </div>

      <div class="eb-receipt-row eb-receipt-note">
        <span>{% trans "Work description" %}</span>
        <strong>{{ data.work_description|default:"Electrical service request details." }}</strong>
      </div>
    </div>


    <div class="eb-receipt-section">
      <div class="eb-receipt-title">{% trans "Estimated Cost" %}</div>

      <div class="eb-receipt-row">
        <span>{% trans "Minimum Callout Fee (1st hr)" %}</span>
        <strong>{{ pricing.currency }} {{ pricing.minimum_callout|floatformat:2 }}</strong>
      </div>

      <div class="eb-receipt-row">
        <span>
          {% blocktrans with hours=pricing.additional_hours rate=pricing.hourly_rate currency=pricing.currency %}
          Additional Time ({{ hours }} hrs x {{ currency }} {{ rate }}/hr)
          {% endblocktrans %}
        </span>
        <strong>{{ pricing.currency }} {{ pricing.additional_total|floatformat:2 }}</strong>
      </div>

      <div class="eb-receipt-total">
        <span>{% trans "Total Estimated Booking" %}</span>
        <strong>{{ pricing.currency }} {{ pricing.total|floatformat:2 }}</strong>
      </div>

      <div class="eb-receipt-disclaimer">
        {% trans "Final pricing may vary based on actual time and materials." %}
      </div>
    </div>

  </div>


  <div class="eb-next">
    <div class="eb-next-title">{% trans "What happens next" %}</div>

    <div class="eb-next-grid">

      <div class="eb-next-card">
        <div class="eb-next-step">1</div>
        <h3>{% trans "Review" %}</h3>
        <p>
          {% trans "Our concierge team reviews your booking details and confirms vehicle availability for your requested time." %}
        </p>
      </div>

      <div class="eb-next-card">
        <div class="eb-next-step">2</div>
        <h3>{% trans "Confirmation" %}</h3>
        <p>
          {% trans "A formal confirmation email and digital itinerary will be sent to your registered email address within 2 hours." %}
        </p>
      </div>

      <div class="eb-next-card">
        <div class="eb-next-step">3</div>
        <h3>{% trans "Follow-up" %}</h3>
        <p>
          {% trans "Your designated chauffeur will contact you via SMS exactly 15 minutes before the scheduled arrival." %}
        </p>
      </div>

    </div>
  </div>


  <div class="eb-confirmation-footer">
    <a class="btn btn-primary" href="{% url 'electricity:home' %}">
      {% trans "Back to Home" %}
    </a>

    <div class="eb-support">
      {% trans "Need assistance?" %}
      <a href="{% url 'electricity:support' %}">
        {% trans "Contact Support" %}
      </a>
    </div>
  </div>

</div>
{% endblock %}
