{% extends "electricity/electrician_booking/base.html" %}

{% block booking_content %}
<form method="post" class="eb-form">
  {% csrf_token %}
  <section class="eb-card">
    <div class="eb-card-header">
      <span class="eb-step-badge">7</span>
      <div>
        <h1>Pricing Transparency</h1>
        <p>Review the estimated cost calculation.</p>
      </div>
    </div>
    <div class="eb-pricing-box">
      <div class="eb-price-row">
        <span>Minimum Callout Fee (1st hr)</span>
        <strong>{{ pricing.currency }} {{ pricing.minimum_callout|floatformat:2 }}</strong>
      </div>
      <div class="eb-price-row">
        <span>Estimated Additional Time ({{ pricing.additional_hours }} hrs x {{ pricing.currency }} {{ pricing.hourly_rate|floatformat:2 }}/hr)</span>
        <strong>{{ pricing.currency }} {{ pricing.additional_total|floatformat:2 }}</strong>
      </div>
      <div class="eb-price-total">
        <span>Total Estimated Booking</span>
        <strong>{{ pricing.currency }} {{ pricing.total|floatformat:2 }}</strong>
      </div>
    </div>
    <label class="eb-checkbox eb-pricing-check">
      <input type="checkbox" name="pricing_ack" value="yes" {% if data.pricing_ack %}checked{% endif %}>
      <span>I understand this is an estimate. Final pricing is based on actual time spent on site and any material costs incurred.</span>
    </label>
  </section>

  <div class="eb-actions">
    <a class="btn btn-light" href="{% url 'electricity:electrician_booking_step' 6 %}">Back</a>
    <button class="btn btn-primary" type="submit">Continue to Step 8 -></button>
  </div>
</form>
{% endblock %}
