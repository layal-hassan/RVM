{% extends "electricity/on_call_booking/base.html" %}
{% load i18n %}
{% block booking_content %}
<form method="post" class="on-call-form">
  {% csrf_token %}

  <div class="oncall-header">
    <div class="section-label">{% trans "Registration Flow" %}</div>
    <div class="section-title">{% trans "Property & Risk Profile" %}</div>
    <p>{% trans "Tell us about the physical infrastructure weâ€™ll be supporting." %}</p>
  </div>

  <div class="form-card">
    <div class="form-grid">

      <div class="full">
        <label>{% trans "Property Type" %}</label>
        <select class="form-control" name="property_type">
          <option value="">{% trans "Select property type" %}</option>
          <option value="commercial" {% if data.property_type == "commercial" %}selected{% endif %}>
            {% trans "Commercial" %}
          </option>
          <option value="industrial" {% if data.property_type == "industrial" %}selected{% endif %}>
            {% trans "Industrial" %}
          </option>
          <option value="mixed_use" {% if data.property_type == "mixed_use" %}selected{% endif %}>
            {% trans "Mixed Use" %}
          </option>
          <option value="residential" {% if data.property_type == "residential" %}selected{% endif %}>
            {% trans "Residential" %}
          </option>
        </select>
      </div>

      <div class="full">
        <label>{% trans "Number of Assets/Properties" %}</label>
        <input class="form-control"
               name="assets_count"
               placeholder="{% trans 'e.g. 12' %}"
               value="{{ data.assets_count|default:'' }}">
      </div>

      <div class="full">
        <label>{% trans "Primary City / Region" %}</label>
        <input class="form-control"
               name="primary_region"
               placeholder="{% trans 'Search region...' %}"
               value="{{ data.primary_region|default:'' }}">
      </div>

    </div>

    <div class="toggle-row">
      <div>
        <strong>{% trans "Shared Critical Systems" %}</strong>
        <p>{% trans "Are HVAC, plumbing, or electrical systems shared?" %}</p>
      </div>
      <label class="switch">
        <input type="checkbox" name="shared_critical_systems" {% if data.shared_critical_systems %}checked{% endif %}>
        <span class="slider"></span>
      </label>
    </div>
  </div>

  <div class="booking-actions">
    <a class="btn btn-light"
       href="{% url 'electricity:on_call_booking_step' 2 %}">
       {% trans "Back" %}
    </a>

    <button class="btn btn-primary" type="submit">
      {% trans "Review & Finalize" %}
    </button>
  </div>

</form>
{% endblock %}
